<main class="invoice taxe">
  <h1>Créer une facture pour meublé de tourisme</h1>
  <section class="calcul">
    <%= simple_form_for :taxe_sejour, :url => taxe_facture_path, :method => :post do |f| %>
      <%= f.input :town, collection: [ "Niederbronn", "Morsbronn" ], selected: "Niederbronn", required: false, label: "Communauté de commune" %>
      <h3>Etablissement</h3>
      <%= f.input :rating, :input_html => { :type => "string" }, collection: [ "non classé", "1", "2", "3", "4", "5" ], selected: "Niederbronn", required: false, label: "Classement en étoile" %>
      <%= f.input :renting_name, :input_html => {:type => "string" }, label: "Nom de l'établissement :", required: false %>
      <%= f.input :renting_address, :input_html => {:type => "string" }, label: "Adresse de l'établissement :", required: false %>
      <%= f.input :renting_zipcode, :input_html => {:type => "string" }, label: "Code Postal :", required: false %>
      <%= f.input :renting_town, :input_html => {:type => "string" }, label: "Commune :", required: false %>
      <h3>Client</h3>
      <%= f.input :client_name, :input_html => {:type => "string" }, label: "Nom du client :", required: false %>
      <%= f.input :client_address, :input_html => {:type => "string" }, label: "Adresse du client :", required: false %>
      <%= f.input :client_zipcode, :input_html => {:type => "string" }, label: "Code Postal :", required: false %>
      <%= f.input :client_town, :input_html => {:type => "string" }, label: "Commune :", required: false %>
      <h3>Séjour</h3>
      <%= f.input :invoice_number, :input_html => { type: "text" }, label: "N° de Facture :", required: false %>
      <h4>Dates du séjour</h4>
      <%= f.input :start_date, as: :date, html5: true, label: "Date de début", required: false %>
      <%= f.input :end_date, as: :date, html5: true, label: "Date de fin", required: false %>
      <h4>Descriptif du séjour</h4>
      <%= f.input :amount, :input_html => { :type => "number" }, label: "Montant total du séjour :", :required => false %>
      <%= f.input :days, :input_html => { :type => "number" }, label: "Durée du séjour :", :required => false %>
      <%= f.input :people, :input_html => { :type => "number" }, label: "Total personnes :", :required => false %>
      <%= f.input :minors, :input_html => { :type => "number" }, label: "Pers. non assujetties (ex: mineurs) :", :required => false %>
      <span id="options">
        <div class="inline">
          <%= f.text_field :option1, :required => false, placeholder: "Option 1, ex: location de draps", class: "option" %>
          <%= f.input :tarif1, label: false, :required => false, :input_html => { :type => "number" } %>
        </div>
        <div class="inline">
          <%= f.text_field :option2, :required => false, placeholder: "Option 2, ex: petits déjeuner", class: "option" %>
          <%= f.input :tarif2, label: false, :required => false, :input_html => { :type => "number" } %>
        </div>
      </span>
      <span class="far fa-plus-square" style="font-size: 1.5em;"></span>
      <%= f.input :reglement, collection: [ "Espèces", "Chèque", "Virement", "Chèques Vacance" ], selected: "Niederbronn", required: false, label: "Mode de règlement" %>
      <%= f.button :submit, value: "Créer une facture", class: "btn-green" %>
      <h2>Créer une facture | <%= Time.now.year %></h2>
    <% end  %>
  </section>

  <% if @taxe != "0.0" && !@taxe.nil? %>

  <%= render "pages/invoice-result" %>


  <% else %>
  <% end %>
</main>
<%= javascript_pack_tag "taxes" %>
